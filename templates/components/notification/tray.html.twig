{# List of notifications. Expect 'items' variable. #}
{% if items is empty %}
  <div class="text-sm text-muted-foreground p-3">{{ 'notifications.empty'|trans }}</div>
{% else %}
  {% for n in items %}
    {% set sev = n.severity.value ?? 'info' %}
    {% set color = sev == 'success' ? 'text-green-600' : (sev == 'warning' ? 'text-yellow-600' : (sev == 'error' ? 'text-red-600' : 'text-blue-600')) %}
    <div class="p-2 rounded-md transition-colors hover:bg-muted/50 flex items-start gap-2" data-id="{{ n.id }}" data-severity="{{ sev }}">
      <div class="mt-0.5 {{ color }}">
        {% if sev == 'success' %}
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.801 10A10 10 0 1 1 17 3.335"/><path d="m9 11 3 3L22 4"/></svg>
        {% elseif sev == 'warning' %}
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        {% elseif sev == 'error' %}
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
        {% endif %}
      </div>
      <div class="flex-1">
        {% if n.url %}
          <a href="{{ n.url }}" class="block text-sm font-medium text-workshop-brown notif-item" data-action="open" data-id="{{ n.id }}">{{ n.title }}</a>
        {% else %}
          <div class="block text-sm font-medium text-workshop-brown">{{ n.title }}</div>
        {% endif %}
        {% if n.body %}
          <div class="text-sm text-muted-foreground">{{ n.body }}</div>
        {% endif %}
        <div class="text-xs text-muted-foreground mt-1">{{ n.createdAt|format_datetime(pattern: 'dd MMM, HH:mm') }}</div>
      </div>
      <button class="text-muted-foreground hover:text-red-600 notif-delete" title="{{ 'notifications.dismiss'|trans }}" data-id="{{ n.id }}">Ã—</button>
    </div>
  {% endfor %}
{% endif %}
