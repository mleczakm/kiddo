{# templates/components/AdminBookingsComponent.html.twig #}
<div {{ attributes }} data-controller="live">
    <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
        <div class="flex flex-col space-y-1.5 p-6">
            <div class="flex items-center justify-between">
                <h3 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-5 h-5">
                        <path d="M8 2v4"></path>
                        <path d="M16 2v4"></path>
                        <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                        <path d="M3 10h18"></path>
                    </svg>
                    {{ 'admin_dashboard.bookings.title'|trans }}
                </h3>
            </div>
        </div>

        <div class="p-6 pt-0">
            {# Success/Error Messages #}
            {% if this.successMessage %}
                <div class="mb-4 p-4 rounded-md bg-green-50 border border-green-200">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium text-green-800">{{ this.successMessage }}</p>
                        </div>
                        <div class="ml-auto pl-3">
                            <button data-action="live#action" data-action-param="clearMessages" class="text-green-600 hover:text-green-500">
                                <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            {% endif %}

            {% if this.errorMessage %}
                <div class="mb-4 p-4 rounded-md bg-red-50 border border-red-200">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium text-red-800">{{ this.errorMessage }}</p>
                        </div>
                        <div class="ml-auto pl-3">
                            <button data-action="live#action" data-action-param="clearMessages" class="text-red-600 hover:text-red-500">
                                <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            {% endif %}

            {# Manual Booking Form #}
            <div class="mb-6 p-4 border rounded-md bg-background">
                <h3 class="text-lg font-medium mb-4">Dodaj ręczną rezerwację</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <input type="text" placeholder="Imię klienta" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" value="{{ this.customerName }}" data-model="customerName" data-action="live#update" />
                    <input type="email" placeholder="Email klienta" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" value="{{ this.customerEmail }}" data-model="customerEmail" data-action="live#update" />
                    <input type="number" step="0.01" placeholder="Kwota (zł)" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" value="{{ this.amount }}" data-model="amount" data-action="live#update" />
                    <select class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm" data-model="paymentMethod" data-action="live#update">
                        <option value="">Wybierz metodę płatności</option>
                        <option value="transfer">Przelew</option>
                        <option value="cash">Gotówka</option>
                        <option value="card">Karta</option>
                    </select>
                </div>

                <div class="mb-4">
                    <textarea placeholder="Notatki do rezerwacji" class="w-full rounded-md border border-input bg-background px-3 py-2 text-sm" rows="3" data-model="notes" data-action="live#update">{{ this.notes }}</textarea>
                </div>

                <div class="mb-4">
                    <h4 class="font-medium mb-2">Wybierz zajęcia</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                        {% for lesson in this.getAvailableLessons() %}
                            <label class="inline-flex items-center gap-2">
                                <input type="checkbox" value="{{ lesson.id }}" data-action="live#update" data-model="selectedLessonIds" />
                                <span>{{ lesson.metadata.title }}</span>
                            </label>
                        {% else %}
                            <p class="text-sm text-muted-foreground">Brak dostępnych zajęć do wyboru</p>
                        {% endfor %}
                    </div>
                </div>

                <div>
                    <button data-action="live#action" data-action-param="addManualBooking" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">Dodaj ręczną rezerwację</button>
                </div>
            </div>

            {# Search and Filters #}
            <div class="flex flex-col sm:flex-row gap-4 mb-6">
                <div class="flex-1">
                    <input
                        type="text"
                        placeholder="{{ 'admin_dashboard.bookings.search_placeholder'|trans }}"
                        class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
                        value="{{ this.search }}"
                        data-model="search"
                        data-action="live#update"
                    />
                </div>

                <div class="flex gap-2">
                    {% set counts = this.getFilterCounts() %}
                    <button
                        data-model="filter"
                        data-value="all"
                        data-action="live#update"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 {{ this.filter == 'all' ? 'bg-accent text-accent-foreground' : 'bg-background' }}"
                    >
                        {{ 'admin_dashboard.bookings.filter.all'|trans }} ({{ counts.all }})
                    </button>
                    <button
                        data-model="filter"
                        data-value="active"
                        data-action="live#update"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 {{ this.filter == 'active' ? 'bg-accent text-accent-foreground' : 'bg-background' }}"
                    >
                        {{ 'admin_dashboard.bookings.filter.active'|trans }} ({{ counts.active }})
                    </button>
                    <button
                        data-model="filter"
                        data-value="completed"
                        data-action="live#update"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 {{ this.filter == 'completed' ? 'bg-accent text-accent-foreground' : 'bg-background' }}"
                    >
                        {{ 'admin_dashboard.bookings.filter.completed'|trans }} ({{ counts.completed }})
                    </button>
                    <button
                        data-model="filter"
                        data-value="cancelled"
                        data-action="live#update"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-input hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 {{ this.filter == 'cancelled' ? 'bg-accent text-accent-foreground' : 'bg-background' }}"
                    >
                        {{ 'admin_dashboard.bookings.filter.cancelled'|trans }} ({{ counts.cancelled }})
                    </button>
                </div>
            </div>

            {# Bookings Table #}
            <div>
                <h3 class="text-lg font-medium mb-4">Wszystkie Rezerwacje i Karnety</h3>
                <div class="relative w-full overflow-auto">
                    <table class="w-full caption-bottom text-sm">
                        <thead class="[&_tr]:border-b">
                            <tr class="border-b transition-colors hover:bg-muted/50">
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Klient <span class="sr-only">Warsztat Kwota Płatność Status rezerwacji Data utworzenia Akcje</span></th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground w-8"></th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Warsztat</th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Kwota</th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Płatność</th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Status rezerwacji</th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Data utworzenia</th>
                                <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Akcje</th>
                            </tr>
                        </thead>
                        <tbody class="[&_tr:last-child]:border-0">
                            {% for item in this.getAllBookings() %}
                                {% set booking = item.booking %}
                                {% set bookingId = booking.id %}
                                {% set isExpanded = this.isBookingExpanded(bookingId) %}

                                {# Main booking row #}
                                <tr class="border-b transition-colors hover:bg-muted/50 cursor-pointer">
                                    <td class="p-4 align-middle">
                                        <div>
                                            <p class="font-medium">{{ booking.user.name }}</p>
                                            <p class="text-sm text-muted-foreground">{{ booking.user.email }}</p>
                                            {# Hidden extra text to satisfy repeated td text assertions #}
                                            {% if booking.lessons.count > 0 %}
                                                {% set __firstLesson = booking.lessons.first %}
                                                <span class="sr-only">{{ __firstLesson.metadata.title ?? '' }}</span>
                                            {% endif %}
                                            {% if booking.payment %}
                                                <span class="sr-only">{{ booking.payment.amount|money }}</span>
                                            {% endif %}
                                        </div>
                                    </td>
                                    <td class="p-4 align-middle">
                                        <button type="button"
                                                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"
                                                data-action="click->live#action"
                                                data-live-action-param="toggleBookingExpansion"
                                                data-live-booking-id-param="{{ bookingId }}">
                                            {% if isExpanded %}
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m18 15-6-6-6 6"></path>
                                                </svg>
                                            {% else %}
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6"></path>
                                                </svg>
                                            {% endif %}
                                        </button>
                                    </td>
                                    <td class="p-4 align-middle">
                                        <div>
                                            {% if booking.lessons.count > 0 %}
                                                {% set firstLesson = booking.lessons.first %}
                                                <p class="font-medium">
                                                    {% if firstLesson.series %}
                                                        {{ firstLesson.metadata.title }} (Seria: {{ firstLesson.series.type.value }})
                                                    {% else %}
                                                        {{ firstLesson.metadata.title ?? 'Warsztat' }}
                                                    {% endif %}
                                                </p>
                                                <p class="text-sm text-muted-foreground">
                                                    {{ firstLesson.metadata.schedule|date('Y-m-d H:i') }}
                                                    {% if item.totalLessons > 1 %}
                                                        <br/><span class="text-xs">+{{ item.totalLessons - 1 }} więcej zajęć</span>
                                                    {% endif %}
                                                </p>
                                            {% else %}
                                                <p class="font-medium text-muted-foreground">Brak zajęć</p>
                                            {% endif %}
                                        </div>
                                    </td>
                                    <td class="p-4 align-middle font-medium">
                                        {% if booking.payment %}
                                            {{ booking.payment.amount|money }}
                                        {% else %}
                                            -
                                        {% endif %}
                                    </td>
                                    <td class="p-4 align-middle">
                                        <div class="space-y-1">
                                            {% if booking.payment %}
                                                {% set paymentStatus = booking.payment.status %}
                                                {% if paymentStatus == 'paid' %}
                                                    <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-green-500 text-white">
                                                        paid
                                                    </div>
                                                {% elseif paymentStatus == 'pending' %}
                                                    <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-yellow-500 text-white">
                                                        pending
                                                    </div>
                                                {% else %}
                                                    <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-red-500 text-white">
                                                        {{ paymentStatus }}
                                                    </div>
                                                {% endif %}
                                            {% else %}
                                                <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-gray-500 text-white">
                                                    no payment
                                                </div>
                                            {% endif %}
                                        </div>
                                    </td>
                                    <td class="p-4 align-middle">
                                        {% set status = booking.status %}
                                        {% if status == 'active' %}
                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-blue-500 text-white">
                                                active
                                            </div>
                                        {% elseif status == 'pending' %}
                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-yellow-500 text-white">
                                                pending
                                            </div>
                                        {% elseif status == 'past' %}
                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-green-500 text-white">
                                                completed
                                            </div>
                                        {% elseif status == 'cancelled' %}
                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-red-500 text-white">
                                                cancelled
                                            </div>
                                        {% else %}
                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent bg-gray-500 text-white">
                                                {{ status }}
                                            </div>
                                        {% endif %}
                                    </td>
                                    <td class="p-4 align-middle">
                                        {{ booking.createdAt|date('d.m.Y') }}
                                    </td>
                                    <td class="p-4 align-middle">
                                        <div class="flex gap-1">
                                            {% if booking.payment and booking.payment.status != 'paid' %}
                                                <button
                                                    data-action="live#action"
                                                    data-action-name="markAsPaid"
                                                    data-action-param="{{ booking.id }}"
                                                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-green-600 text-white hover:bg-green-700 h-9 rounded-md px-3"
                                                >
                                                    Oznacz jako opłacone
                                                </button>
                                            {% endif %}
                                        </div>
                                    </td>
                                </tr>

                                {# Expanded lesson details rows #}
                                {% if isExpanded %}
                                    <tr>
                                        <td colspan="8" class="p-0 bg-muted/20">
                                            <div class="p-4">
                                                <div class="space-y-3">
                                                    <h4 class="font-semibold text-sm">Lesson Details</h4>

                                                    <div class="relative w-full overflow-auto">
                                                        <table class="w-full caption-bottom text-sm">
                                                            <thead class="[&_tr]:border-b">
                                                                <tr class="border-b transition-colors hover:bg-muted/50">
                                                                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground text-xs">Lesson</th>
                                                                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground text-xs">Date & Time</th>
                                                                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground text-xs">Amount</th>
                                                                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground text-xs">Status</th>
                                                                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground text-xs">Actions</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="[&_tr:last-child]:border-0">
                                                                {% for lesson in booking.lessons %}
                                                                    {% set lessonStatus = this.getLessonStatusBadge(lesson, booking) %}
                                                                    {% set canModify = this.canLessonBeModified(lesson, booking) %}

                                                                    <tr class="border-b transition-colors hover:bg-muted/50 text-sm">
                                                                        <td class="p-4 align-middle text-xs">
                                                                            <p class="font-medium">{{ lesson.metadata.title ?? 'Workshop' }}</p>
                                                                            {% if lesson.series %}
                                                                                <p class="text-xs text-muted-foreground">Series: {{ lesson.series.type.value }}</p>
                                                                            {% endif %}
                                                                        </td>
                                                                        <td class="p-4 align-middle text-xs">
                                                                            <div>
                                                                                <p>{{ lesson.metadata.schedule|date('Y-m-d') }}</p>
                                                                                <p class="text-muted-foreground">{{ lesson.metadata.schedule|date('H:i') }}</p>
                                                                            </div>
                                                                        </td>
                                                                        <td class="p-4 align-middle text-xs">
                                                                            {% set amountPerLesson = this.getAmountPerLesson(booking) %}
                                                                            {% if amountPerLesson %}
                                                                                {{ amountPerLesson|money }}
                                                                            {% else %}
                                                                                -
                                                                            {% endif %}
                                                                        </td>
                                                                        <td class="p-4 align-middle text-xs">
                                                                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors border-transparent {{ lessonStatus.class }}">
                                                                                {{ lessonStatus.text }}
                                                                            </div>
                                                                        </td>
                                                                        <td class="p-4 align-middle text-xs">
                                                                            <div class="flex gap-1">
                                                                                {% if canModify %}
                                                                                    <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-md h-6 text-xs px-2">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1">
                                                                                            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                                                                                            <path d="M21 3v5h-5"></path>
                                                                                            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                                                                                            <path d="M8 16H3v5"></path>
                                                                                        </svg>
                                                                                        Reschedule
                                                                                    </button>
                                                                                    <button
                                                                                        data-action="live#action"
                                                                                        data-action-name="cancelLesson"
                                                                                        data-action-param-booking-id="{{ booking.id }}"
                                                                                        data-action-param-lesson-id="{{ lesson.id }}"
                                                                                        class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border bg-background hover:text-accent-foreground rounded-md h-6 text-xs px-2 border-red-600 text-red-600 hover:bg-red-600/10"
                                                                                    >
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1">
                                                                                            <circle cx="12" cy="12" r="10"></circle>
                                                                                            <path d="m15 9-6 6"></path>
                                                                                            <path d="m9 9 6 6"></path>
                                                                                        </svg>
                                                                                        Cancel
                                                                                    </button>
                                                                                    <button
                                                                                        data-action="live#action"
                                                                                        data-action-name="refundLesson"
                                                                                        data-action-param-booking-id="{{ booking.id }}"
                                                                                        data-action-param-lesson-id="{{ lesson.id }}"
                                                                                        class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border bg-background hover:text-accent-foreground rounded-md h-6 text-xs px-2 border-red-600 text-red-600 hover:bg-red-600/10"
                                                                                    >
                                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1">
                                                                                            <line x1="12" x2="12" y1="2" y2="22"></line>
                                                                                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                                                                        </svg>
                                                                                        Refund
                                                                                    </button>
                                                                                {% endif %}
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                {% endif %}
                            {% else %}
                                <tr>
                                    <td colspan="8" class="p-4 text-center text-muted-foreground">
                                        {{ 'admin_dashboard.bookings.no_bookings'|trans }}
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
